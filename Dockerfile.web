FROM node:18-alpine AS build

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .

ARG VITE_N8N_BASE_URL
ARG VITE_DEBUG_MODE=0
ENV VITE_N8N_BASE_URL=$VITE_N8N_BASE_URL
ENV VITE_DEBUG_MODE=$VITE_DEBUG_MODE

RUN npm run build
